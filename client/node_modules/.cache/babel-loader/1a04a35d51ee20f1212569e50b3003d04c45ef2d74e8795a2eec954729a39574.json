{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"onClick\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onMouseUp\", \"onPaste\", \"error\"];\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport useForkRef from '@mui/utils/useForkRef';\nimport { useTheme } from '@mui/material/styles';\nimport { useValidation } from '../validation/useValidation';\nimport { useUtils } from '../useUtils';\nimport { adjustSectionValue, isAndroid, cleanString, getSectionOrder } from './useField.utils';\nimport { useFieldState } from './useFieldState';\nimport { useFieldCharacterEditing } from './useFieldCharacterEditing';\nimport { getActiveElement } from '../../utils/utils';\nexport var useField = function useField(params) {\n  var utils = useUtils();\n  var _useFieldState = useFieldState(params),\n    state = _useFieldState.state,\n    selectedSectionIndexes = _useFieldState.selectedSectionIndexes,\n    _setSelectedSections = _useFieldState.setSelectedSections,\n    clearValue = _useFieldState.clearValue,\n    clearActiveSection = _useFieldState.clearActiveSection,\n    updateSectionValue = _useFieldState.updateSectionValue,\n    updateValueFromValueStr = _useFieldState.updateValueFromValueStr,\n    setTempAndroidValueStr = _useFieldState.setTempAndroidValueStr,\n    sectionsValueBoundaries = _useFieldState.sectionsValueBoundaries;\n  var _useFieldCharacterEdi = useFieldCharacterEditing({\n      sections: state.sections,\n      updateSectionValue: updateSectionValue,\n      sectionsValueBoundaries: sectionsValueBoundaries,\n      setTempAndroidValueStr: setTempAndroidValueStr\n    }),\n    applyCharacterEditing = _useFieldCharacterEdi.applyCharacterEditing,\n    resetCharacterQuery = _useFieldCharacterEdi.resetCharacterQuery;\n  var inputRefProp = params.inputRef,\n    internalProps = params.internalProps,\n    _params$internalProps = params.internalProps,\n    _params$internalProps2 = _params$internalProps.readOnly,\n    readOnly = _params$internalProps2 === void 0 ? false : _params$internalProps2,\n    unstableFieldRef = _params$internalProps.unstableFieldRef,\n    _params$forwardedProp = params.forwardedProps,\n    onClick = _params$forwardedProp.onClick,\n    onKeyDown = _params$forwardedProp.onKeyDown,\n    onFocus = _params$forwardedProp.onFocus,\n    onBlur = _params$forwardedProp.onBlur,\n    onMouseUp = _params$forwardedProp.onMouseUp,\n    onPaste = _params$forwardedProp.onPaste,\n    error = _params$forwardedProp.error,\n    fieldValueManager = params.fieldValueManager,\n    valueManager = params.valueManager,\n    validator = params.validator,\n    otherForwardedProps = _objectWithoutPropertiesLoose(params.forwardedProps, _excluded);\n  var inputRef = React.useRef(null);\n  var handleRef = useForkRef(inputRefProp, inputRef);\n  var focusTimeoutRef = React.useRef(undefined);\n  var theme = useTheme();\n  var sectionOrder = React.useMemo(function () {\n    return getSectionOrder(state.sections, theme.direction === 'rtl');\n  }, [theme.direction, state.sections]);\n  var syncSelectionFromDOM = function syncSelectionFromDOM() {\n    var _selectionStart;\n    if (readOnly) {\n      _setSelectedSections(null);\n      return;\n    }\n    var browserStartIndex = (_selectionStart = inputRef.current.selectionStart) != null ? _selectionStart : 0;\n    var nextSectionIndex = browserStartIndex <= state.sections[0].startInInput ? 1 // Special case if browser index is in invisible characters at the beginning.\n    : state.sections.findIndex(function (section) {\n      return section.startInInput - section.startSeparator.length > browserStartIndex;\n    });\n    var sectionIndex = nextSectionIndex === -1 ? state.sections.length - 1 : nextSectionIndex - 1;\n    _setSelectedSections(sectionIndex);\n  };\n  var handleInputClick = useEventCallback(function () {\n    onClick == null ? void 0 : onClick.apply(void 0, arguments);\n    syncSelectionFromDOM();\n  });\n  var handleInputMouseUp = useEventCallback(function (event) {\n    onMouseUp == null ? void 0 : onMouseUp(event);\n\n    // Without this, the browser will remove the selected when clicking inside an already-selected section.\n    event.preventDefault();\n  });\n  var handleInputFocus = useEventCallback(function () {\n    onFocus == null ? void 0 : onFocus.apply(void 0, arguments);\n    // The ref is guaranteed to be resolved at this point.\n    var input = inputRef.current;\n    clearTimeout(focusTimeoutRef.current);\n    focusTimeoutRef.current = setTimeout(function () {\n      // The ref changed, the component got remounted, the focus event is no longer relevant.\n      if (!input || input !== inputRef.current) {\n        return;\n      }\n      if (selectedSectionIndexes != null || readOnly) {\n        return;\n      }\n      if (\n      // avoid selecting all sections when focusing empty field without value\n      input.value.length && Number(input.selectionEnd) - Number(input.selectionStart) === input.value.length) {\n        _setSelectedSections('all');\n      } else {\n        syncSelectionFromDOM();\n      }\n    });\n  });\n  var handleInputBlur = useEventCallback(function () {\n    onBlur == null ? void 0 : onBlur.apply(void 0, arguments);\n    _setSelectedSections(null);\n  });\n  var handleInputPaste = useEventCallback(function (event) {\n    onPaste == null ? void 0 : onPaste(event);\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n    var pastedValue = event.clipboardData.getData('text');\n    if (selectedSectionIndexes && selectedSectionIndexes.startIndex === selectedSectionIndexes.endIndex) {\n      var activeSection = state.sections[selectedSectionIndexes.startIndex];\n      var lettersOnly = /^[a-zA-Z]+$/.test(pastedValue);\n      var digitsOnly = /^[0-9]+$/.test(pastedValue);\n      var isValidPastedValue = activeSection.contentType === 'letter' && lettersOnly || activeSection.contentType === 'digit' && digitsOnly;\n      if (isValidPastedValue) {\n        // Early return to let the paste update section, value\n        return;\n      }\n      if (lettersOnly || digitsOnly) {\n        // The pasted value correspond to a single section but not the expected type\n        // skip the modification\n        event.preventDefault();\n        return;\n      }\n    }\n    event.preventDefault();\n    updateValueFromValueStr(pastedValue);\n  });\n  var handleInputChange = useEventCallback(function (event) {\n    if (readOnly) {\n      return;\n    }\n    var valueStr = event.target.value;\n    var cleanValueStr = cleanString(valueStr);\n\n    // If no section is selected, we just try to parse the new value\n    // This line is mostly triggered by imperative code / application tests.\n    if (selectedSectionIndexes == null) {\n      updateValueFromValueStr(cleanValueStr);\n      return;\n    }\n    var keyPressed;\n    if (selectedSectionIndexes.startIndex === 0 && selectedSectionIndexes.endIndex === state.sections.length - 1) {\n      keyPressed = cleanValueStr;\n    } else {\n      var prevValueStr = cleanString(fieldValueManager.getValueStrFromSections(state.sections));\n      var startOfDiffIndex = -1;\n      var endOfDiffIndex = -1;\n      for (var i = 0; i < prevValueStr.length; i += 1) {\n        if (startOfDiffIndex === -1 && prevValueStr[i] !== cleanValueStr[i]) {\n          startOfDiffIndex = i;\n        }\n        if (endOfDiffIndex === -1 && prevValueStr[prevValueStr.length - i - 1] !== cleanValueStr[cleanValueStr.length - i - 1]) {\n          endOfDiffIndex = i;\n        }\n      }\n      var activeSection = state.sections[selectedSectionIndexes.startIndex];\n      var hasDiffOutsideOfActiveSection = startOfDiffIndex < activeSection.start || prevValueStr.length - endOfDiffIndex - 1 > activeSection.end;\n      if (hasDiffOutsideOfActiveSection) {\n        // TODO: Support if the new date is valid\n        return;\n      }\n\n      // The active section being selected, the browser has replaced its value with the key pressed by the user.\n      var activeSectionEndRelativeToNewValue = cleanValueStr.length - prevValueStr.length + activeSection.end - cleanString(activeSection.endSeparator || '').length;\n      keyPressed = cleanValueStr.slice(activeSection.start, activeSectionEndRelativeToNewValue);\n    }\n    if (isAndroid() && keyPressed.length === 0) {\n      setTempAndroidValueStr(valueStr);\n      return;\n    }\n    applyCharacterEditing({\n      keyPressed: keyPressed,\n      sectionIndex: selectedSectionIndexes.startIndex\n    });\n  });\n  var handleInputKeyDown = useEventCallback(function (event) {\n    onKeyDown == null ? void 0 : onKeyDown(event);\n\n    // eslint-disable-next-line default-case\n    switch (true) {\n      // Select all\n      case event.key === 'a' && (event.ctrlKey || event.metaKey):\n        {\n          // prevent default to make sure that the next line \"select all\" while updating\n          // the internal state at the same time.\n          event.preventDefault();\n          _setSelectedSections('all');\n          break;\n        }\n\n      // Move selection to next section\n      case event.key === 'ArrowRight':\n        {\n          event.preventDefault();\n          if (selectedSectionIndexes == null) {\n            _setSelectedSections(sectionOrder.startIndex);\n          } else if (selectedSectionIndexes.startIndex !== selectedSectionIndexes.endIndex) {\n            _setSelectedSections(selectedSectionIndexes.endIndex);\n          } else {\n            var nextSectionIndex = sectionOrder.neighbors[selectedSectionIndexes.startIndex].rightIndex;\n            if (nextSectionIndex !== null) {\n              _setSelectedSections(nextSectionIndex);\n            }\n          }\n          break;\n        }\n\n      // Move selection to previous section\n      case event.key === 'ArrowLeft':\n        {\n          event.preventDefault();\n          if (selectedSectionIndexes == null) {\n            _setSelectedSections(sectionOrder.endIndex);\n          } else if (selectedSectionIndexes.startIndex !== selectedSectionIndexes.endIndex) {\n            _setSelectedSections(selectedSectionIndexes.startIndex);\n          } else {\n            var _nextSectionIndex = sectionOrder.neighbors[selectedSectionIndexes.startIndex].leftIndex;\n            if (_nextSectionIndex !== null) {\n              _setSelectedSections(_nextSectionIndex);\n            }\n          }\n          break;\n        }\n\n      // Reset the value of the selected section\n      case ['Backspace', 'Delete'].includes(event.key):\n        {\n          event.preventDefault();\n          if (readOnly) {\n            break;\n          }\n          if (selectedSectionIndexes == null || selectedSectionIndexes.startIndex === 0 && selectedSectionIndexes.endIndex === state.sections.length - 1) {\n            clearValue();\n          } else {\n            clearActiveSection();\n          }\n          resetCharacterQuery();\n          break;\n        }\n\n      // Increment / decrement the selected section value\n      case ['ArrowUp', 'ArrowDown', 'Home', 'End', 'PageUp', 'PageDown'].includes(event.key):\n        {\n          event.preventDefault();\n          if (readOnly || selectedSectionIndexes == null) {\n            break;\n          }\n          var activeSection = state.sections[selectedSectionIndexes.startIndex];\n          var activeDateManager = fieldValueManager.getActiveDateManager(utils, state, activeSection);\n          var newSectionValue = adjustSectionValue(utils, activeSection, event.key, sectionsValueBoundaries, activeDateManager.activeDate);\n          updateSectionValue({\n            activeSection: activeSection,\n            newSectionValue: newSectionValue,\n            shouldGoToNextSection: false\n          });\n          break;\n        }\n    }\n  });\n  useEnhancedEffect(function () {\n    if (selectedSectionIndexes == null) {\n      if (inputRef.current.scrollLeft) {\n        // Ensure that input content is not marked as selected.\n        // setting selection range to 0 causes issues in Safari.\n        // https://bugs.webkit.org/show_bug.cgi?id=224425\n        inputRef.current.scrollLeft = 0;\n      }\n      return;\n    }\n    var firstSelectedSection = state.sections[selectedSectionIndexes.startIndex];\n    var lastSelectedSection = state.sections[selectedSectionIndexes.endIndex];\n    var selectionStart = firstSelectedSection.startInInput;\n    var selectionEnd = lastSelectedSection.endInInput;\n    if (selectedSectionIndexes.shouldSelectBoundarySelectors) {\n      selectionStart -= firstSelectedSection.startSeparator.length;\n      selectionEnd += lastSelectedSection.endSeparator.length;\n    }\n    if (selectionStart !== inputRef.current.selectionStart || selectionEnd !== inputRef.current.selectionEnd) {\n      // Fix scroll jumping on iOS browser: https://github.com/mui/mui-x/issues/8321\n      var currentScrollTop = inputRef.current.scrollTop;\n      inputRef.current.setSelectionRange(selectionStart, selectionEnd);\n      // Even reading this variable seems to do the trick, but also setting it just to make use of it\n      inputRef.current.scrollTop = currentScrollTop;\n    }\n  });\n  var validationError = useValidation(_extends({}, internalProps, {\n    value: state.value\n  }), validator, valueManager.isSameError, valueManager.defaultErrorState);\n  var inputError = React.useMemo(function () {\n    // only override when `error` is undefined.\n    // in case of multi input fields, the `error` value is provided externally and will always be defined.\n    if (error !== undefined) {\n      return error;\n    }\n    return fieldValueManager.hasError(validationError);\n  }, [fieldValueManager, validationError, error]);\n  React.useEffect(function () {\n    // Select the right section when focused on mount (`autoFocus = true` on the input)\n    if (inputRef.current && inputRef.current === document.activeElement) {\n      _setSelectedSections('all');\n    }\n    return function () {\n      return window.clearTimeout(focusTimeoutRef.current);\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // If `state.tempValueStrAndroid` is still defined when running `useEffect`,\n  // Then `onChange` has only been called once, which means the user pressed `Backspace` to reset the section.\n  // This causes a small flickering on Android,\n  // But we can't use `useEnhancedEffect` which is always called before the second `onChange` call and then would cause false positives.\n  React.useEffect(function () {\n    if (state.tempValueStrAndroid != null && selectedSectionIndexes != null) {\n      resetCharacterQuery();\n      clearActiveSection();\n    }\n  }, [state.tempValueStrAndroid]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var valueStr = React.useMemo(function () {\n    var _state$tempValueStrAn;\n    return (_state$tempValueStrAn = state.tempValueStrAndroid) != null ? _state$tempValueStrAn : fieldValueManager.getValueStrFromSections(state.sections);\n  }, [state.sections, fieldValueManager, state.tempValueStrAndroid]);\n  var inputMode = React.useMemo(function () {\n    if (selectedSectionIndexes == null) {\n      return 'text';\n    }\n    if (state.sections[selectedSectionIndexes.startIndex].contentType === 'letter') {\n      return 'text';\n    }\n    return 'tel';\n  }, [selectedSectionIndexes, state.sections]);\n  var inputHasFocus = inputRef.current && inputRef.current === getActiveElement(document);\n  var shouldShowPlaceholder = !inputHasFocus && valueManager.areValuesEqual(utils, state.value, valueManager.emptyValue);\n  React.useImperativeHandle(unstableFieldRef, function () {\n    return {\n      getSections: function getSections() {\n        return state.sections;\n      },\n      getActiveSectionIndex: function getActiveSectionIndex() {\n        var _selectionStart2, _selectionEnd;\n        var browserStartIndex = (_selectionStart2 = inputRef.current.selectionStart) != null ? _selectionStart2 : 0;\n        var browserEndIndex = (_selectionEnd = inputRef.current.selectionEnd) != null ? _selectionEnd : 0;\n        if (browserStartIndex === 0 && browserEndIndex === 0) {\n          return null;\n        }\n        var nextSectionIndex = browserStartIndex <= state.sections[0].startInInput ? 1 // Special case if browser index is in invisible characters at the beginning.\n        : state.sections.findIndex(function (section) {\n          return section.startInInput - section.startSeparator.length > browserStartIndex;\n        });\n        return nextSectionIndex === -1 ? state.sections.length - 1 : nextSectionIndex - 1;\n      },\n      setSelectedSections: function setSelectedSections(activeSectionIndex) {\n        return _setSelectedSections(activeSectionIndex);\n      }\n    };\n  });\n  return _extends({\n    placeholder: state.placeholder,\n    autoComplete: 'off'\n  }, otherForwardedProps, {\n    value: shouldShowPlaceholder ? '' : valueStr,\n    inputMode: inputMode,\n    readOnly: readOnly,\n    onClick: handleInputClick,\n    onFocus: handleInputFocus,\n    onBlur: handleInputBlur,\n    onPaste: handleInputPaste,\n    onChange: handleInputChange,\n    onKeyDown: handleInputKeyDown,\n    onMouseUp: handleInputMouseUp,\n    error: inputError,\n    ref: handleRef\n  });\n};","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_excluded","React","useEnhancedEffect","useEventCallback","useForkRef","useTheme","useValidation","useUtils","adjustSectionValue","isAndroid","cleanString","getSectionOrder","useFieldState","useFieldCharacterEditing","getActiveElement","useField","params","utils","_useFieldState","state","selectedSectionIndexes","setSelectedSections","clearValue","clearActiveSection","updateSectionValue","updateValueFromValueStr","setTempAndroidValueStr","sectionsValueBoundaries","_useFieldCharacterEdi","sections","applyCharacterEditing","resetCharacterQuery","inputRefProp","inputRef","internalProps","_params$internalProps","_params$internalProps2","readOnly","unstableFieldRef","_params$forwardedProp","forwardedProps","onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","fieldValueManager","valueManager","validator","otherForwardedProps","useRef","handleRef","focusTimeoutRef","undefined","theme","sectionOrder","useMemo","direction","syncSelectionFromDOM","_selectionStart","browserStartIndex","current","selectionStart","nextSectionIndex","startInInput","findIndex","section","startSeparator","length","sectionIndex","handleInputClick","apply","arguments","handleInputMouseUp","event","preventDefault","handleInputFocus","input","clearTimeout","setTimeout","value","Number","selectionEnd","handleInputBlur","handleInputPaste","pastedValue","clipboardData","getData","startIndex","endIndex","activeSection","lettersOnly","test","digitsOnly","isValidPastedValue","contentType","handleInputChange","valueStr","target","cleanValueStr","keyPressed","prevValueStr","getValueStrFromSections","startOfDiffIndex","endOfDiffIndex","i","hasDiffOutsideOfActiveSection","start","end","activeSectionEndRelativeToNewValue","endSeparator","slice","handleInputKeyDown","key","ctrlKey","metaKey","neighbors","rightIndex","leftIndex","includes","activeDateManager","getActiveDateManager","newSectionValue","activeDate","shouldGoToNextSection","scrollLeft","firstSelectedSection","lastSelectedSection","endInInput","shouldSelectBoundarySelectors","currentScrollTop","scrollTop","setSelectionRange","validationError","isSameError","defaultErrorState","inputError","hasError","useEffect","document","activeElement","window","tempValueStrAndroid","_state$tempValueStrAn","inputMode","inputHasFocus","shouldShowPlaceholder","areValuesEqual","emptyValue","useImperativeHandle","getSections","getActiveSectionIndex","_selectionStart2","_selectionEnd","browserEndIndex","activeSectionIndex","placeholder","autoComplete","onChange","ref"],"sources":["C:/Users/parth/Documents/PARTH-DHAMIJA-IS24-full-stack-competition-req97073/client/node_modules/@mui/x-date-pickers/internals/hooks/useField/useField.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"onClick\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onMouseUp\", \"onPaste\", \"error\"];\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport useForkRef from '@mui/utils/useForkRef';\nimport { useTheme } from '@mui/material/styles';\nimport { useValidation } from '../validation/useValidation';\nimport { useUtils } from '../useUtils';\nimport { adjustSectionValue, isAndroid, cleanString, getSectionOrder } from './useField.utils';\nimport { useFieldState } from './useFieldState';\nimport { useFieldCharacterEditing } from './useFieldCharacterEditing';\nimport { getActiveElement } from '../../utils/utils';\nexport const useField = params => {\n  const utils = useUtils();\n  const {\n    state,\n    selectedSectionIndexes,\n    setSelectedSections,\n    clearValue,\n    clearActiveSection,\n    updateSectionValue,\n    updateValueFromValueStr,\n    setTempAndroidValueStr,\n    sectionsValueBoundaries\n  } = useFieldState(params);\n  const {\n    applyCharacterEditing,\n    resetCharacterQuery\n  } = useFieldCharacterEditing({\n    sections: state.sections,\n    updateSectionValue,\n    sectionsValueBoundaries,\n    setTempAndroidValueStr\n  });\n  const {\n      inputRef: inputRefProp,\n      internalProps,\n      internalProps: {\n        readOnly = false,\n        unstableFieldRef\n      },\n      forwardedProps: {\n        onClick,\n        onKeyDown,\n        onFocus,\n        onBlur,\n        onMouseUp,\n        onPaste,\n        error\n      },\n      fieldValueManager,\n      valueManager,\n      validator\n    } = params,\n    otherForwardedProps = _objectWithoutPropertiesLoose(params.forwardedProps, _excluded);\n  const inputRef = React.useRef(null);\n  const handleRef = useForkRef(inputRefProp, inputRef);\n  const focusTimeoutRef = React.useRef(undefined);\n  const theme = useTheme();\n  const sectionOrder = React.useMemo(() => getSectionOrder(state.sections, theme.direction === 'rtl'), [theme.direction, state.sections]);\n  const syncSelectionFromDOM = () => {\n    var _selectionStart;\n    if (readOnly) {\n      setSelectedSections(null);\n      return;\n    }\n    const browserStartIndex = (_selectionStart = inputRef.current.selectionStart) != null ? _selectionStart : 0;\n    const nextSectionIndex = browserStartIndex <= state.sections[0].startInInput ? 1 // Special case if browser index is in invisible characters at the beginning.\n    : state.sections.findIndex(section => section.startInInput - section.startSeparator.length > browserStartIndex);\n    const sectionIndex = nextSectionIndex === -1 ? state.sections.length - 1 : nextSectionIndex - 1;\n    setSelectedSections(sectionIndex);\n  };\n  const handleInputClick = useEventCallback((...args) => {\n    onClick == null ? void 0 : onClick(...args);\n    syncSelectionFromDOM();\n  });\n  const handleInputMouseUp = useEventCallback(event => {\n    onMouseUp == null ? void 0 : onMouseUp(event);\n\n    // Without this, the browser will remove the selected when clicking inside an already-selected section.\n    event.preventDefault();\n  });\n  const handleInputFocus = useEventCallback((...args) => {\n    onFocus == null ? void 0 : onFocus(...args);\n    // The ref is guaranteed to be resolved at this point.\n    const input = inputRef.current;\n    clearTimeout(focusTimeoutRef.current);\n    focusTimeoutRef.current = setTimeout(() => {\n      // The ref changed, the component got remounted, the focus event is no longer relevant.\n      if (!input || input !== inputRef.current) {\n        return;\n      }\n      if (selectedSectionIndexes != null || readOnly) {\n        return;\n      }\n      if (\n      // avoid selecting all sections when focusing empty field without value\n      input.value.length && Number(input.selectionEnd) - Number(input.selectionStart) === input.value.length) {\n        setSelectedSections('all');\n      } else {\n        syncSelectionFromDOM();\n      }\n    });\n  });\n  const handleInputBlur = useEventCallback((...args) => {\n    onBlur == null ? void 0 : onBlur(...args);\n    setSelectedSections(null);\n  });\n  const handleInputPaste = useEventCallback(event => {\n    onPaste == null ? void 0 : onPaste(event);\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n    const pastedValue = event.clipboardData.getData('text');\n    if (selectedSectionIndexes && selectedSectionIndexes.startIndex === selectedSectionIndexes.endIndex) {\n      const activeSection = state.sections[selectedSectionIndexes.startIndex];\n      const lettersOnly = /^[a-zA-Z]+$/.test(pastedValue);\n      const digitsOnly = /^[0-9]+$/.test(pastedValue);\n      const isValidPastedValue = activeSection.contentType === 'letter' && lettersOnly || activeSection.contentType === 'digit' && digitsOnly;\n      if (isValidPastedValue) {\n        // Early return to let the paste update section, value\n        return;\n      }\n      if (lettersOnly || digitsOnly) {\n        // The pasted value correspond to a single section but not the expected type\n        // skip the modification\n        event.preventDefault();\n        return;\n      }\n    }\n    event.preventDefault();\n    updateValueFromValueStr(pastedValue);\n  });\n  const handleInputChange = useEventCallback(event => {\n    if (readOnly) {\n      return;\n    }\n    const valueStr = event.target.value;\n    const cleanValueStr = cleanString(valueStr);\n\n    // If no section is selected, we just try to parse the new value\n    // This line is mostly triggered by imperative code / application tests.\n    if (selectedSectionIndexes == null) {\n      updateValueFromValueStr(cleanValueStr);\n      return;\n    }\n    let keyPressed;\n    if (selectedSectionIndexes.startIndex === 0 && selectedSectionIndexes.endIndex === state.sections.length - 1) {\n      keyPressed = cleanValueStr;\n    } else {\n      const prevValueStr = cleanString(fieldValueManager.getValueStrFromSections(state.sections));\n      let startOfDiffIndex = -1;\n      let endOfDiffIndex = -1;\n      for (let i = 0; i < prevValueStr.length; i += 1) {\n        if (startOfDiffIndex === -1 && prevValueStr[i] !== cleanValueStr[i]) {\n          startOfDiffIndex = i;\n        }\n        if (endOfDiffIndex === -1 && prevValueStr[prevValueStr.length - i - 1] !== cleanValueStr[cleanValueStr.length - i - 1]) {\n          endOfDiffIndex = i;\n        }\n      }\n      const activeSection = state.sections[selectedSectionIndexes.startIndex];\n      const hasDiffOutsideOfActiveSection = startOfDiffIndex < activeSection.start || prevValueStr.length - endOfDiffIndex - 1 > activeSection.end;\n      if (hasDiffOutsideOfActiveSection) {\n        // TODO: Support if the new date is valid\n        return;\n      }\n\n      // The active section being selected, the browser has replaced its value with the key pressed by the user.\n      const activeSectionEndRelativeToNewValue = cleanValueStr.length - prevValueStr.length + activeSection.end - cleanString(activeSection.endSeparator || '').length;\n      keyPressed = cleanValueStr.slice(activeSection.start, activeSectionEndRelativeToNewValue);\n    }\n    if (isAndroid() && keyPressed.length === 0) {\n      setTempAndroidValueStr(valueStr);\n      return;\n    }\n    applyCharacterEditing({\n      keyPressed,\n      sectionIndex: selectedSectionIndexes.startIndex\n    });\n  });\n  const handleInputKeyDown = useEventCallback(event => {\n    onKeyDown == null ? void 0 : onKeyDown(event);\n\n    // eslint-disable-next-line default-case\n    switch (true) {\n      // Select all\n      case event.key === 'a' && (event.ctrlKey || event.metaKey):\n        {\n          // prevent default to make sure that the next line \"select all\" while updating\n          // the internal state at the same time.\n          event.preventDefault();\n          setSelectedSections('all');\n          break;\n        }\n\n      // Move selection to next section\n      case event.key === 'ArrowRight':\n        {\n          event.preventDefault();\n          if (selectedSectionIndexes == null) {\n            setSelectedSections(sectionOrder.startIndex);\n          } else if (selectedSectionIndexes.startIndex !== selectedSectionIndexes.endIndex) {\n            setSelectedSections(selectedSectionIndexes.endIndex);\n          } else {\n            const nextSectionIndex = sectionOrder.neighbors[selectedSectionIndexes.startIndex].rightIndex;\n            if (nextSectionIndex !== null) {\n              setSelectedSections(nextSectionIndex);\n            }\n          }\n          break;\n        }\n\n      // Move selection to previous section\n      case event.key === 'ArrowLeft':\n        {\n          event.preventDefault();\n          if (selectedSectionIndexes == null) {\n            setSelectedSections(sectionOrder.endIndex);\n          } else if (selectedSectionIndexes.startIndex !== selectedSectionIndexes.endIndex) {\n            setSelectedSections(selectedSectionIndexes.startIndex);\n          } else {\n            const nextSectionIndex = sectionOrder.neighbors[selectedSectionIndexes.startIndex].leftIndex;\n            if (nextSectionIndex !== null) {\n              setSelectedSections(nextSectionIndex);\n            }\n          }\n          break;\n        }\n\n      // Reset the value of the selected section\n      case ['Backspace', 'Delete'].includes(event.key):\n        {\n          event.preventDefault();\n          if (readOnly) {\n            break;\n          }\n          if (selectedSectionIndexes == null || selectedSectionIndexes.startIndex === 0 && selectedSectionIndexes.endIndex === state.sections.length - 1) {\n            clearValue();\n          } else {\n            clearActiveSection();\n          }\n          resetCharacterQuery();\n          break;\n        }\n\n      // Increment / decrement the selected section value\n      case ['ArrowUp', 'ArrowDown', 'Home', 'End', 'PageUp', 'PageDown'].includes(event.key):\n        {\n          event.preventDefault();\n          if (readOnly || selectedSectionIndexes == null) {\n            break;\n          }\n          const activeSection = state.sections[selectedSectionIndexes.startIndex];\n          const activeDateManager = fieldValueManager.getActiveDateManager(utils, state, activeSection);\n          const newSectionValue = adjustSectionValue(utils, activeSection, event.key, sectionsValueBoundaries, activeDateManager.activeDate);\n          updateSectionValue({\n            activeSection,\n            newSectionValue,\n            shouldGoToNextSection: false\n          });\n          break;\n        }\n    }\n  });\n  useEnhancedEffect(() => {\n    if (selectedSectionIndexes == null) {\n      if (inputRef.current.scrollLeft) {\n        // Ensure that input content is not marked as selected.\n        // setting selection range to 0 causes issues in Safari.\n        // https://bugs.webkit.org/show_bug.cgi?id=224425\n        inputRef.current.scrollLeft = 0;\n      }\n      return;\n    }\n    const firstSelectedSection = state.sections[selectedSectionIndexes.startIndex];\n    const lastSelectedSection = state.sections[selectedSectionIndexes.endIndex];\n    let selectionStart = firstSelectedSection.startInInput;\n    let selectionEnd = lastSelectedSection.endInInput;\n    if (selectedSectionIndexes.shouldSelectBoundarySelectors) {\n      selectionStart -= firstSelectedSection.startSeparator.length;\n      selectionEnd += lastSelectedSection.endSeparator.length;\n    }\n    if (selectionStart !== inputRef.current.selectionStart || selectionEnd !== inputRef.current.selectionEnd) {\n      // Fix scroll jumping on iOS browser: https://github.com/mui/mui-x/issues/8321\n      const currentScrollTop = inputRef.current.scrollTop;\n      inputRef.current.setSelectionRange(selectionStart, selectionEnd);\n      // Even reading this variable seems to do the trick, but also setting it just to make use of it\n      inputRef.current.scrollTop = currentScrollTop;\n    }\n  });\n  const validationError = useValidation(_extends({}, internalProps, {\n    value: state.value\n  }), validator, valueManager.isSameError, valueManager.defaultErrorState);\n  const inputError = React.useMemo(() => {\n    // only override when `error` is undefined.\n    // in case of multi input fields, the `error` value is provided externally and will always be defined.\n    if (error !== undefined) {\n      return error;\n    }\n    return fieldValueManager.hasError(validationError);\n  }, [fieldValueManager, validationError, error]);\n  React.useEffect(() => {\n    // Select the right section when focused on mount (`autoFocus = true` on the input)\n    if (inputRef.current && inputRef.current === document.activeElement) {\n      setSelectedSections('all');\n    }\n    return () => window.clearTimeout(focusTimeoutRef.current);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // If `state.tempValueStrAndroid` is still defined when running `useEffect`,\n  // Then `onChange` has only been called once, which means the user pressed `Backspace` to reset the section.\n  // This causes a small flickering on Android,\n  // But we can't use `useEnhancedEffect` which is always called before the second `onChange` call and then would cause false positives.\n  React.useEffect(() => {\n    if (state.tempValueStrAndroid != null && selectedSectionIndexes != null) {\n      resetCharacterQuery();\n      clearActiveSection();\n    }\n  }, [state.tempValueStrAndroid]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const valueStr = React.useMemo(() => {\n    var _state$tempValueStrAn;\n    return (_state$tempValueStrAn = state.tempValueStrAndroid) != null ? _state$tempValueStrAn : fieldValueManager.getValueStrFromSections(state.sections);\n  }, [state.sections, fieldValueManager, state.tempValueStrAndroid]);\n  const inputMode = React.useMemo(() => {\n    if (selectedSectionIndexes == null) {\n      return 'text';\n    }\n    if (state.sections[selectedSectionIndexes.startIndex].contentType === 'letter') {\n      return 'text';\n    }\n    return 'tel';\n  }, [selectedSectionIndexes, state.sections]);\n  const inputHasFocus = inputRef.current && inputRef.current === getActiveElement(document);\n  const shouldShowPlaceholder = !inputHasFocus && valueManager.areValuesEqual(utils, state.value, valueManager.emptyValue);\n  React.useImperativeHandle(unstableFieldRef, () => ({\n    getSections: () => state.sections,\n    getActiveSectionIndex: () => {\n      var _selectionStart2, _selectionEnd;\n      const browserStartIndex = (_selectionStart2 = inputRef.current.selectionStart) != null ? _selectionStart2 : 0;\n      const browserEndIndex = (_selectionEnd = inputRef.current.selectionEnd) != null ? _selectionEnd : 0;\n      if (browserStartIndex === 0 && browserEndIndex === 0) {\n        return null;\n      }\n      const nextSectionIndex = browserStartIndex <= state.sections[0].startInInput ? 1 // Special case if browser index is in invisible characters at the beginning.\n      : state.sections.findIndex(section => section.startInInput - section.startSeparator.length > browserStartIndex);\n      return nextSectionIndex === -1 ? state.sections.length - 1 : nextSectionIndex - 1;\n    },\n    setSelectedSections: activeSectionIndex => setSelectedSections(activeSectionIndex)\n  }));\n  return _extends({\n    placeholder: state.placeholder,\n    autoComplete: 'off'\n  }, otherForwardedProps, {\n    value: shouldShowPlaceholder ? '' : valueStr,\n    inputMode,\n    readOnly,\n    onClick: handleInputClick,\n    onFocus: handleInputFocus,\n    onBlur: handleInputBlur,\n    onPaste: handleInputPaste,\n    onChange: handleInputChange,\n    onKeyDown: handleInputKeyDown,\n    onMouseUp: handleInputMouseUp,\n    error: inputError,\n    ref: handleRef\n  });\n};"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAOC,6BAA6B,MAAM,yDAAyD;AACnG,IAAMC,SAAS,GAAG,CAAC,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,CAAC;AAChG,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,OAAOC,iBAAiB,MAAM,8BAA8B;AAC5D,OAAOC,gBAAgB,MAAM,6BAA6B;AAC1D,OAAOC,UAAU,MAAM,uBAAuB;AAC9C,SAASC,QAAQ,QAAQ,sBAAsB;AAC/C,SAASC,aAAa,QAAQ,6BAA6B;AAC3D,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,kBAAkB,EAAEC,SAAS,EAAEC,WAAW,EAAEC,eAAe,QAAQ,kBAAkB;AAC9F,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,wBAAwB,QAAQ,4BAA4B;AACrE,SAASC,gBAAgB,QAAQ,mBAAmB;AACpD,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAGC,MAAM,EAAI;EAChC,IAAMC,KAAK,GAAGV,QAAQ,EAAE;EACxB,IAAAW,cAAA,GAUIN,aAAa,CAACI,MAAM,CAAC;IATvBG,KAAK,GAAAD,cAAA,CAALC,KAAK;IACLC,sBAAsB,GAAAF,cAAA,CAAtBE,sBAAsB;IACtBC,oBAAmB,GAAAH,cAAA,CAAnBG,mBAAmB;IACnBC,UAAU,GAAAJ,cAAA,CAAVI,UAAU;IACVC,kBAAkB,GAAAL,cAAA,CAAlBK,kBAAkB;IAClBC,kBAAkB,GAAAN,cAAA,CAAlBM,kBAAkB;IAClBC,uBAAuB,GAAAP,cAAA,CAAvBO,uBAAuB;IACvBC,sBAAsB,GAAAR,cAAA,CAAtBQ,sBAAsB;IACtBC,uBAAuB,GAAAT,cAAA,CAAvBS,uBAAuB;EAEzB,IAAAC,qBAAA,GAGIf,wBAAwB,CAAC;MAC3BgB,QAAQ,EAAEV,KAAK,CAACU,QAAQ;MACxBL,kBAAkB,EAAlBA,kBAAkB;MAClBG,uBAAuB,EAAvBA,uBAAuB;MACvBD,sBAAsB,EAAtBA;IACF,CAAC,CAAC;IAPAI,qBAAqB,GAAAF,qBAAA,CAArBE,qBAAqB;IACrBC,mBAAmB,GAAAH,qBAAA,CAAnBG,mBAAmB;EAOrB,IACcC,YAAY,GAkBpBhB,MAAM,CAlBRiB,QAAQ;IACRC,aAAa,GAiBXlB,MAAM,CAjBRkB,aAAa;IAAAC,qBAAA,GAiBXnB,MAAM,CAhBRkB,aAAa;IAAAE,sBAAA,GAAAD,qBAAA,CACXE,QAAQ;IAARA,QAAQ,GAAAD,sBAAA,cAAG,KAAK,GAAAA,sBAAA;IAChBE,gBAAgB,GAAAH,qBAAA,CAAhBG,gBAAgB;IAAAC,qBAAA,GAchBvB,MAAM,CAZRwB,cAAc;IACZC,OAAO,GAAAF,qBAAA,CAAPE,OAAO;IACPC,SAAS,GAAAH,qBAAA,CAATG,SAAS;IACTC,OAAO,GAAAJ,qBAAA,CAAPI,OAAO;IACPC,MAAM,GAAAL,qBAAA,CAANK,MAAM;IACNC,SAAS,GAAAN,qBAAA,CAATM,SAAS;IACTC,OAAO,GAAAP,qBAAA,CAAPO,OAAO;IACPC,KAAK,GAAAR,qBAAA,CAALQ,KAAK;IAEPC,iBAAiB,GAGfhC,MAAM,CAHRgC,iBAAiB;IACjBC,YAAY,GAEVjC,MAAM,CAFRiC,YAAY;IACZC,SAAS,GACPlC,MAAM,CADRkC,SAAS;IAEXC,mBAAmB,GAAGpD,6BAA6B,CAACiB,MAAM,CAACwB,cAAc,EAAExC,SAAS,CAAC;EACvF,IAAMiC,QAAQ,GAAGhC,KAAK,CAACmD,MAAM,CAAC,IAAI,CAAC;EACnC,IAAMC,SAAS,GAAGjD,UAAU,CAAC4B,YAAY,EAAEC,QAAQ,CAAC;EACpD,IAAMqB,eAAe,GAAGrD,KAAK,CAACmD,MAAM,CAACG,SAAS,CAAC;EAC/C,IAAMC,KAAK,GAAGnD,QAAQ,EAAE;EACxB,IAAMoD,YAAY,GAAGxD,KAAK,CAACyD,OAAO,CAAC;IAAA,OAAM/C,eAAe,CAACQ,KAAK,CAACU,QAAQ,EAAE2B,KAAK,CAACG,SAAS,KAAK,KAAK,CAAC;EAAA,GAAE,CAACH,KAAK,CAACG,SAAS,EAAExC,KAAK,CAACU,QAAQ,CAAC,CAAC;EACvI,IAAM+B,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAA,EAAS;IACjC,IAAIC,eAAe;IACnB,IAAIxB,QAAQ,EAAE;MACZhB,oBAAmB,CAAC,IAAI,CAAC;MACzB;IACF;IACA,IAAMyC,iBAAiB,GAAG,CAACD,eAAe,GAAG5B,QAAQ,CAAC8B,OAAO,CAACC,cAAc,KAAK,IAAI,GAAGH,eAAe,GAAG,CAAC;IAC3G,IAAMI,gBAAgB,GAAGH,iBAAiB,IAAI3C,KAAK,CAACU,QAAQ,CAAC,CAAC,CAAC,CAACqC,YAAY,GAAG,CAAC,CAAC;IAAA,EAC/E/C,KAAK,CAACU,QAAQ,CAACsC,SAAS,CAAC,UAAAC,OAAO;MAAA,OAAIA,OAAO,CAACF,YAAY,GAAGE,OAAO,CAACC,cAAc,CAACC,MAAM,GAAGR,iBAAiB;IAAA,EAAC;IAC/G,IAAMS,YAAY,GAAGN,gBAAgB,KAAK,CAAC,CAAC,GAAG9C,KAAK,CAACU,QAAQ,CAACyC,MAAM,GAAG,CAAC,GAAGL,gBAAgB,GAAG,CAAC;IAC/F5C,oBAAmB,CAACkD,YAAY,CAAC;EACnC,CAAC;EACD,IAAMC,gBAAgB,GAAGrE,gBAAgB,CAAC,YAAa;IACrDsC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAAgC,KAAA,SAAAC,SAAA,CAAS;IAC3Cd,oBAAoB,EAAE;EACxB,CAAC,CAAC;EACF,IAAMe,kBAAkB,GAAGxE,gBAAgB,CAAC,UAAAyE,KAAK,EAAI;IACnD/B,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAAC+B,KAAK,CAAC;;IAE7C;IACAA,KAAK,CAACC,cAAc,EAAE;EACxB,CAAC,CAAC;EACF,IAAMC,gBAAgB,GAAG3E,gBAAgB,CAAC,YAAa;IACrDwC,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAA8B,KAAA,SAAAC,SAAA,CAAS;IAC3C;IACA,IAAMK,KAAK,GAAG9C,QAAQ,CAAC8B,OAAO;IAC9BiB,YAAY,CAAC1B,eAAe,CAACS,OAAO,CAAC;IACrCT,eAAe,CAACS,OAAO,GAAGkB,UAAU,CAAC,YAAM;MACzC;MACA,IAAI,CAACF,KAAK,IAAIA,KAAK,KAAK9C,QAAQ,CAAC8B,OAAO,EAAE;QACxC;MACF;MACA,IAAI3C,sBAAsB,IAAI,IAAI,IAAIiB,QAAQ,EAAE;QAC9C;MACF;MACA;MACA;MACA0C,KAAK,CAACG,KAAK,CAACZ,MAAM,IAAIa,MAAM,CAACJ,KAAK,CAACK,YAAY,CAAC,GAAGD,MAAM,CAACJ,KAAK,CAACf,cAAc,CAAC,KAAKe,KAAK,CAACG,KAAK,CAACZ,MAAM,EAAE;QACtGjD,oBAAmB,CAAC,KAAK,CAAC;MAC5B,CAAC,MAAM;QACLuC,oBAAoB,EAAE;MACxB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,IAAMyB,eAAe,GAAGlF,gBAAgB,CAAC,YAAa;IACpDyC,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAA6B,KAAA,SAAAC,SAAA,CAAS;IACzCrD,oBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC,CAAC;EACF,IAAMiE,gBAAgB,GAAGnF,gBAAgB,CAAC,UAAAyE,KAAK,EAAI;IACjD9B,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC8B,KAAK,CAAC;IACzC,IAAIvC,QAAQ,EAAE;MACZuC,KAAK,CAACC,cAAc,EAAE;MACtB;IACF;IACA,IAAMU,WAAW,GAAGX,KAAK,CAACY,aAAa,CAACC,OAAO,CAAC,MAAM,CAAC;IACvD,IAAIrE,sBAAsB,IAAIA,sBAAsB,CAACsE,UAAU,KAAKtE,sBAAsB,CAACuE,QAAQ,EAAE;MACnG,IAAMC,aAAa,GAAGzE,KAAK,CAACU,QAAQ,CAACT,sBAAsB,CAACsE,UAAU,CAAC;MACvE,IAAMG,WAAW,GAAG,aAAa,CAACC,IAAI,CAACP,WAAW,CAAC;MACnD,IAAMQ,UAAU,GAAG,UAAU,CAACD,IAAI,CAACP,WAAW,CAAC;MAC/C,IAAMS,kBAAkB,GAAGJ,aAAa,CAACK,WAAW,KAAK,QAAQ,IAAIJ,WAAW,IAAID,aAAa,CAACK,WAAW,KAAK,OAAO,IAAIF,UAAU;MACvI,IAAIC,kBAAkB,EAAE;QACtB;QACA;MACF;MACA,IAAIH,WAAW,IAAIE,UAAU,EAAE;QAC7B;QACA;QACAnB,KAAK,CAACC,cAAc,EAAE;QACtB;MACF;IACF;IACAD,KAAK,CAACC,cAAc,EAAE;IACtBpD,uBAAuB,CAAC8D,WAAW,CAAC;EACtC,CAAC,CAAC;EACF,IAAMW,iBAAiB,GAAG/F,gBAAgB,CAAC,UAAAyE,KAAK,EAAI;IAClD,IAAIvC,QAAQ,EAAE;MACZ;IACF;IACA,IAAM8D,QAAQ,GAAGvB,KAAK,CAACwB,MAAM,CAAClB,KAAK;IACnC,IAAMmB,aAAa,GAAG3F,WAAW,CAACyF,QAAQ,CAAC;;IAE3C;IACA;IACA,IAAI/E,sBAAsB,IAAI,IAAI,EAAE;MAClCK,uBAAuB,CAAC4E,aAAa,CAAC;MACtC;IACF;IACA,IAAIC,UAAU;IACd,IAAIlF,sBAAsB,CAACsE,UAAU,KAAK,CAAC,IAAItE,sBAAsB,CAACuE,QAAQ,KAAKxE,KAAK,CAACU,QAAQ,CAACyC,MAAM,GAAG,CAAC,EAAE;MAC5GgC,UAAU,GAAGD,aAAa;IAC5B,CAAC,MAAM;MACL,IAAME,YAAY,GAAG7F,WAAW,CAACsC,iBAAiB,CAACwD,uBAAuB,CAACrF,KAAK,CAACU,QAAQ,CAAC,CAAC;MAC3F,IAAI4E,gBAAgB,GAAG,CAAC,CAAC;MACzB,IAAIC,cAAc,GAAG,CAAC,CAAC;MACvB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,YAAY,CAACjC,MAAM,EAAEqC,CAAC,IAAI,CAAC,EAAE;QAC/C,IAAIF,gBAAgB,KAAK,CAAC,CAAC,IAAIF,YAAY,CAACI,CAAC,CAAC,KAAKN,aAAa,CAACM,CAAC,CAAC,EAAE;UACnEF,gBAAgB,GAAGE,CAAC;QACtB;QACA,IAAID,cAAc,KAAK,CAAC,CAAC,IAAIH,YAAY,CAACA,YAAY,CAACjC,MAAM,GAAGqC,CAAC,GAAG,CAAC,CAAC,KAAKN,aAAa,CAACA,aAAa,CAAC/B,MAAM,GAAGqC,CAAC,GAAG,CAAC,CAAC,EAAE;UACtHD,cAAc,GAAGC,CAAC;QACpB;MACF;MACA,IAAMf,aAAa,GAAGzE,KAAK,CAACU,QAAQ,CAACT,sBAAsB,CAACsE,UAAU,CAAC;MACvE,IAAMkB,6BAA6B,GAAGH,gBAAgB,GAAGb,aAAa,CAACiB,KAAK,IAAIN,YAAY,CAACjC,MAAM,GAAGoC,cAAc,GAAG,CAAC,GAAGd,aAAa,CAACkB,GAAG;MAC5I,IAAIF,6BAA6B,EAAE;QACjC;QACA;MACF;;MAEA;MACA,IAAMG,kCAAkC,GAAGV,aAAa,CAAC/B,MAAM,GAAGiC,YAAY,CAACjC,MAAM,GAAGsB,aAAa,CAACkB,GAAG,GAAGpG,WAAW,CAACkF,aAAa,CAACoB,YAAY,IAAI,EAAE,CAAC,CAAC1C,MAAM;MAChKgC,UAAU,GAAGD,aAAa,CAACY,KAAK,CAACrB,aAAa,CAACiB,KAAK,EAAEE,kCAAkC,CAAC;IAC3F;IACA,IAAItG,SAAS,EAAE,IAAI6F,UAAU,CAAChC,MAAM,KAAK,CAAC,EAAE;MAC1C5C,sBAAsB,CAACyE,QAAQ,CAAC;MAChC;IACF;IACArE,qBAAqB,CAAC;MACpBwE,UAAU,EAAVA,UAAU;MACV/B,YAAY,EAAEnD,sBAAsB,CAACsE;IACvC,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,IAAMwB,kBAAkB,GAAG/G,gBAAgB,CAAC,UAAAyE,KAAK,EAAI;IACnDlC,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACkC,KAAK,CAAC;;IAE7C;IACA,QAAQ,IAAI;MACV;MACA,KAAKA,KAAK,CAACuC,GAAG,KAAK,GAAG,KAAKvC,KAAK,CAACwC,OAAO,IAAIxC,KAAK,CAACyC,OAAO,CAAC;QACxD;UACE;UACA;UACAzC,KAAK,CAACC,cAAc,EAAE;UACtBxD,oBAAmB,CAAC,KAAK,CAAC;UAC1B;QACF;;MAEF;MACA,KAAKuD,KAAK,CAACuC,GAAG,KAAK,YAAY;QAC7B;UACEvC,KAAK,CAACC,cAAc,EAAE;UACtB,IAAIzD,sBAAsB,IAAI,IAAI,EAAE;YAClCC,oBAAmB,CAACoC,YAAY,CAACiC,UAAU,CAAC;UAC9C,CAAC,MAAM,IAAItE,sBAAsB,CAACsE,UAAU,KAAKtE,sBAAsB,CAACuE,QAAQ,EAAE;YAChFtE,oBAAmB,CAACD,sBAAsB,CAACuE,QAAQ,CAAC;UACtD,CAAC,MAAM;YACL,IAAM1B,gBAAgB,GAAGR,YAAY,CAAC6D,SAAS,CAAClG,sBAAsB,CAACsE,UAAU,CAAC,CAAC6B,UAAU;YAC7F,IAAItD,gBAAgB,KAAK,IAAI,EAAE;cAC7B5C,oBAAmB,CAAC4C,gBAAgB,CAAC;YACvC;UACF;UACA;QACF;;MAEF;MACA,KAAKW,KAAK,CAACuC,GAAG,KAAK,WAAW;QAC5B;UACEvC,KAAK,CAACC,cAAc,EAAE;UACtB,IAAIzD,sBAAsB,IAAI,IAAI,EAAE;YAClCC,oBAAmB,CAACoC,YAAY,CAACkC,QAAQ,CAAC;UAC5C,CAAC,MAAM,IAAIvE,sBAAsB,CAACsE,UAAU,KAAKtE,sBAAsB,CAACuE,QAAQ,EAAE;YAChFtE,oBAAmB,CAACD,sBAAsB,CAACsE,UAAU,CAAC;UACxD,CAAC,MAAM;YACL,IAAMzB,iBAAgB,GAAGR,YAAY,CAAC6D,SAAS,CAAClG,sBAAsB,CAACsE,UAAU,CAAC,CAAC8B,SAAS;YAC5F,IAAIvD,iBAAgB,KAAK,IAAI,EAAE;cAC7B5C,oBAAmB,CAAC4C,iBAAgB,CAAC;YACvC;UACF;UACA;QACF;;MAEF;MACA,KAAK,CAAC,WAAW,EAAE,QAAQ,CAAC,CAACwD,QAAQ,CAAC7C,KAAK,CAACuC,GAAG,CAAC;QAC9C;UACEvC,KAAK,CAACC,cAAc,EAAE;UACtB,IAAIxC,QAAQ,EAAE;YACZ;UACF;UACA,IAAIjB,sBAAsB,IAAI,IAAI,IAAIA,sBAAsB,CAACsE,UAAU,KAAK,CAAC,IAAItE,sBAAsB,CAACuE,QAAQ,KAAKxE,KAAK,CAACU,QAAQ,CAACyC,MAAM,GAAG,CAAC,EAAE;YAC9IhD,UAAU,EAAE;UACd,CAAC,MAAM;YACLC,kBAAkB,EAAE;UACtB;UACAQ,mBAAmB,EAAE;UACrB;QACF;;MAEF;MACA,KAAK,CAAC,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC0F,QAAQ,CAAC7C,KAAK,CAACuC,GAAG,CAAC;QACpF;UACEvC,KAAK,CAACC,cAAc,EAAE;UACtB,IAAIxC,QAAQ,IAAIjB,sBAAsB,IAAI,IAAI,EAAE;YAC9C;UACF;UACA,IAAMwE,aAAa,GAAGzE,KAAK,CAACU,QAAQ,CAACT,sBAAsB,CAACsE,UAAU,CAAC;UACvE,IAAMgC,iBAAiB,GAAG1E,iBAAiB,CAAC2E,oBAAoB,CAAC1G,KAAK,EAAEE,KAAK,EAAEyE,aAAa,CAAC;UAC7F,IAAMgC,eAAe,GAAGpH,kBAAkB,CAACS,KAAK,EAAE2E,aAAa,EAAEhB,KAAK,CAACuC,GAAG,EAAExF,uBAAuB,EAAE+F,iBAAiB,CAACG,UAAU,CAAC;UAClIrG,kBAAkB,CAAC;YACjBoE,aAAa,EAAbA,aAAa;YACbgC,eAAe,EAAfA,eAAe;YACfE,qBAAqB,EAAE;UACzB,CAAC,CAAC;UACF;QACF;IAAC;EAEP,CAAC,CAAC;EACF5H,iBAAiB,CAAC,YAAM;IACtB,IAAIkB,sBAAsB,IAAI,IAAI,EAAE;MAClC,IAAIa,QAAQ,CAAC8B,OAAO,CAACgE,UAAU,EAAE;QAC/B;QACA;QACA;QACA9F,QAAQ,CAAC8B,OAAO,CAACgE,UAAU,GAAG,CAAC;MACjC;MACA;IACF;IACA,IAAMC,oBAAoB,GAAG7G,KAAK,CAACU,QAAQ,CAACT,sBAAsB,CAACsE,UAAU,CAAC;IAC9E,IAAMuC,mBAAmB,GAAG9G,KAAK,CAACU,QAAQ,CAACT,sBAAsB,CAACuE,QAAQ,CAAC;IAC3E,IAAI3B,cAAc,GAAGgE,oBAAoB,CAAC9D,YAAY;IACtD,IAAIkB,YAAY,GAAG6C,mBAAmB,CAACC,UAAU;IACjD,IAAI9G,sBAAsB,CAAC+G,6BAA6B,EAAE;MACxDnE,cAAc,IAAIgE,oBAAoB,CAAC3D,cAAc,CAACC,MAAM;MAC5Dc,YAAY,IAAI6C,mBAAmB,CAACjB,YAAY,CAAC1C,MAAM;IACzD;IACA,IAAIN,cAAc,KAAK/B,QAAQ,CAAC8B,OAAO,CAACC,cAAc,IAAIoB,YAAY,KAAKnD,QAAQ,CAAC8B,OAAO,CAACqB,YAAY,EAAE;MACxG;MACA,IAAMgD,gBAAgB,GAAGnG,QAAQ,CAAC8B,OAAO,CAACsE,SAAS;MACnDpG,QAAQ,CAAC8B,OAAO,CAACuE,iBAAiB,CAACtE,cAAc,EAAEoB,YAAY,CAAC;MAChE;MACAnD,QAAQ,CAAC8B,OAAO,CAACsE,SAAS,GAAGD,gBAAgB;IAC/C;EACF,CAAC,CAAC;EACF,IAAMG,eAAe,GAAGjI,aAAa,CAACR,QAAQ,CAAC,CAAC,CAAC,EAAEoC,aAAa,EAAE;IAChEgD,KAAK,EAAE/D,KAAK,CAAC+D;EACf,CAAC,CAAC,EAAEhC,SAAS,EAAED,YAAY,CAACuF,WAAW,EAAEvF,YAAY,CAACwF,iBAAiB,CAAC;EACxE,IAAMC,UAAU,GAAGzI,KAAK,CAACyD,OAAO,CAAC,YAAM;IACrC;IACA;IACA,IAAIX,KAAK,KAAKQ,SAAS,EAAE;MACvB,OAAOR,KAAK;IACd;IACA,OAAOC,iBAAiB,CAAC2F,QAAQ,CAACJ,eAAe,CAAC;EACpD,CAAC,EAAE,CAACvF,iBAAiB,EAAEuF,eAAe,EAAExF,KAAK,CAAC,CAAC;EAC/C9C,KAAK,CAAC2I,SAAS,CAAC,YAAM;IACpB;IACA,IAAI3G,QAAQ,CAAC8B,OAAO,IAAI9B,QAAQ,CAAC8B,OAAO,KAAK8E,QAAQ,CAACC,aAAa,EAAE;MACnEzH,oBAAmB,CAAC,KAAK,CAAC;IAC5B;IACA,OAAO;MAAA,OAAM0H,MAAM,CAAC/D,YAAY,CAAC1B,eAAe,CAACS,OAAO,CAAC;IAAA;EAC3D,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER;EACA;EACA;EACA;EACA9D,KAAK,CAAC2I,SAAS,CAAC,YAAM;IACpB,IAAIzH,KAAK,CAAC6H,mBAAmB,IAAI,IAAI,IAAI5H,sBAAsB,IAAI,IAAI,EAAE;MACvEW,mBAAmB,EAAE;MACrBR,kBAAkB,EAAE;IACtB;EACF,CAAC,EAAE,CAACJ,KAAK,CAAC6H,mBAAmB,CAAC,CAAC,CAAC,CAAC;;EAEjC,IAAM7C,QAAQ,GAAGlG,KAAK,CAACyD,OAAO,CAAC,YAAM;IACnC,IAAIuF,qBAAqB;IACzB,OAAO,CAACA,qBAAqB,GAAG9H,KAAK,CAAC6H,mBAAmB,KAAK,IAAI,GAAGC,qBAAqB,GAAGjG,iBAAiB,CAACwD,uBAAuB,CAACrF,KAAK,CAACU,QAAQ,CAAC;EACxJ,CAAC,EAAE,CAACV,KAAK,CAACU,QAAQ,EAAEmB,iBAAiB,EAAE7B,KAAK,CAAC6H,mBAAmB,CAAC,CAAC;EAClE,IAAME,SAAS,GAAGjJ,KAAK,CAACyD,OAAO,CAAC,YAAM;IACpC,IAAItC,sBAAsB,IAAI,IAAI,EAAE;MAClC,OAAO,MAAM;IACf;IACA,IAAID,KAAK,CAACU,QAAQ,CAACT,sBAAsB,CAACsE,UAAU,CAAC,CAACO,WAAW,KAAK,QAAQ,EAAE;MAC9E,OAAO,MAAM;IACf;IACA,OAAO,KAAK;EACd,CAAC,EAAE,CAAC7E,sBAAsB,EAAED,KAAK,CAACU,QAAQ,CAAC,CAAC;EAC5C,IAAMsH,aAAa,GAAGlH,QAAQ,CAAC8B,OAAO,IAAI9B,QAAQ,CAAC8B,OAAO,KAAKjD,gBAAgB,CAAC+H,QAAQ,CAAC;EACzF,IAAMO,qBAAqB,GAAG,CAACD,aAAa,IAAIlG,YAAY,CAACoG,cAAc,CAACpI,KAAK,EAAEE,KAAK,CAAC+D,KAAK,EAAEjC,YAAY,CAACqG,UAAU,CAAC;EACxHrJ,KAAK,CAACsJ,mBAAmB,CAACjH,gBAAgB,EAAE;IAAA,OAAO;MACjDkH,WAAW,EAAE,SAAAA,YAAA;QAAA,OAAMrI,KAAK,CAACU,QAAQ;MAAA;MACjC4H,qBAAqB,EAAE,SAAAA,sBAAA,EAAM;QAC3B,IAAIC,gBAAgB,EAAEC,aAAa;QACnC,IAAM7F,iBAAiB,GAAG,CAAC4F,gBAAgB,GAAGzH,QAAQ,CAAC8B,OAAO,CAACC,cAAc,KAAK,IAAI,GAAG0F,gBAAgB,GAAG,CAAC;QAC7G,IAAME,eAAe,GAAG,CAACD,aAAa,GAAG1H,QAAQ,CAAC8B,OAAO,CAACqB,YAAY,KAAK,IAAI,GAAGuE,aAAa,GAAG,CAAC;QACnG,IAAI7F,iBAAiB,KAAK,CAAC,IAAI8F,eAAe,KAAK,CAAC,EAAE;UACpD,OAAO,IAAI;QACb;QACA,IAAM3F,gBAAgB,GAAGH,iBAAiB,IAAI3C,KAAK,CAACU,QAAQ,CAAC,CAAC,CAAC,CAACqC,YAAY,GAAG,CAAC,CAAC;QAAA,EAC/E/C,KAAK,CAACU,QAAQ,CAACsC,SAAS,CAAC,UAAAC,OAAO;UAAA,OAAIA,OAAO,CAACF,YAAY,GAAGE,OAAO,CAACC,cAAc,CAACC,MAAM,GAAGR,iBAAiB;QAAA,EAAC;QAC/G,OAAOG,gBAAgB,KAAK,CAAC,CAAC,GAAG9C,KAAK,CAACU,QAAQ,CAACyC,MAAM,GAAG,CAAC,GAAGL,gBAAgB,GAAG,CAAC;MACnF,CAAC;MACD5C,mBAAmB,EAAE,SAAAA,oBAAAwI,kBAAkB;QAAA,OAAIxI,oBAAmB,CAACwI,kBAAkB,CAAC;MAAA;IACpF,CAAC;EAAA,CAAC,CAAC;EACH,OAAO/J,QAAQ,CAAC;IACdgK,WAAW,EAAE3I,KAAK,CAAC2I,WAAW;IAC9BC,YAAY,EAAE;EAChB,CAAC,EAAE5G,mBAAmB,EAAE;IACtB+B,KAAK,EAAEkE,qBAAqB,GAAG,EAAE,GAAGjD,QAAQ;IAC5C+C,SAAS,EAATA,SAAS;IACT7G,QAAQ,EAARA,QAAQ;IACRI,OAAO,EAAE+B,gBAAgB;IACzB7B,OAAO,EAAEmC,gBAAgB;IACzBlC,MAAM,EAAEyC,eAAe;IACvBvC,OAAO,EAAEwC,gBAAgB;IACzB0E,QAAQ,EAAE9D,iBAAiB;IAC3BxD,SAAS,EAAEwE,kBAAkB;IAC7BrE,SAAS,EAAE8B,kBAAkB;IAC7B5B,KAAK,EAAE2F,UAAU;IACjBuB,GAAG,EAAE5G;EACP,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}